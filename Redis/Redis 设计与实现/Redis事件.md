# 事件

文件事件： Redis通过套接字与客户端的通信产生响应的文件事件，服务器通过监听并处理这些事件完成一系列的网络通信操作

事件事件：Redis服务器中的一些操作，需要在给定的时间点执行，而时间事件就是服务器对这类定时操作的抽象.

## 文件事件

Redis通过多路IO复用程序来同时监听多个socket,相当于Java的NIO

文件事件实际上是对套接字处理的抽象，每次套接字变为可应答(acceptable),可写(writable)或者可读(readable)时，响应的文件事件就会产生。

Redis毕竟是单线程应用，为了提高处理能力，使用NIO理所当然。

Redis为多路IO重用实现了多个处理器，这些事件处理器分别用于实现不同的网络通信需求，比如：

1. 为了对连接服务器的各个客户端进行应答，服务器要为监听套接字关联**连接应答处理器**
2. 处理命令请求的 **请求处理器**
3. 向客户端返回命令执行结果的**回复处理器**
4. 当主服务器和从服务器进行复制操作时，主从服务器都需要关联特别为复制功能编写的**复制处理器**



## 时间事件

Redis中的时间事件其实都是**周期性时间**

**服务器将所有的时间事件都放到一个无序列表中，当时间事件执行器运行时，它就遍历整个链表，查找所有已到达的时间事件，并调用相应的事件处理器**

**文件事件和时间事件之间是合作关系，服务器会轮流处理这两种事件，并且处理时间的过程中也不会进行强占。** 

时间事件中的实际处理时间通常会比设定的到达时间晚一些。

